<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Archy Predictive Model Params Builder 
</title>
</head>

<body>

<form form id="Parameters" Name="Parameters.txt" method="POST" align="center">
<p>
<b>Archy Predictive Model Params Builder</b>
<br>
<br><b>parameters.txt Location:</b><br>
<input type="file" Name="params" size="40">
</p>
<b>DEM File:</b><br>
<input type="file" Name="DEM" size="40">
</p>
<p>
<b>Hydrology Shapefile:</b><br>
<input type="file" name="hydro" size="40">
</p>
<p>
<b>Clip Boundary Shapefile:</b><br>
<input type="file" name="bound" size="40">
</p>
<p>
<b>NLCD Raster:</b><br>
<input type="file" name="NLCD" size="40">
</p>
<b>Raster Cell Size:</b><br>
Enter Here: <input name="cell" type="text" />
<br>
<br>
<b>Slope Reclassification Limits:</b><br>
Example: 0 2.5 5;2.5 6.5 4;6.5 11 3;11 16 2;16 23 1;23 46.8 0<br>
(zero to 2.5 = 5; 2.5-6.5 = 4; etc...)<br>
Enter Here: <input name="slopeReclass" type="text" />
<br>
<br>
<b>Hydrology Reclassification Limits:</b><br>
Example: 0 250 5;250 500 4;500 1000 3;1000 1500 2;1500 2000 1;2000 10000 00<br>
(zero to 250 = 5; 250-500 = 4; etc...)<br>
Enter Here: <input name="hydroReclass" type="text" />
<br>
<br>
<b>NLCD Reclassification Limits:</b><br>
Example: 11 0;12 0;21 24 0;31 2;41 43 4;51 3;52 3;71 74 5;81 4;82 4;90 95 2<br>
(11 = 0; 12 = 0; etc...)<br>
Enter Here: <input name="nlcdReclass" type="text" />
<br>
<br>
<b>ArcGIS Working Directory:</b><br>
<input type="file" name="wd" size="40">
<br>
<br>
<br>
<br>
</form>
<center><button onclick="saveTextAsFile()">Save data to params file</button>
</center>
<script type='text/javascript'>

function saveTextAsFile()
{
	var textToWrite = document.getElementByName("DEM").value;
	var textFileAsBlob = new Blob([textToWrite], {type:'text/plain'});
	var fileNameToSaveAs = document.getElementByName("params").value;

	var downloadLink = document.createElement("a");
	downloadLink.download = fileNameToSaveAs;
	downloadLink.innerHTML = "Download File";
	if (window.webkitURL != null)
	{
		// Chrome allows the link to be clicked
		// without actually adding it to the DOM.
		downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob);
	}
	else
	{
		// Firefox requires the link to be added to the DOM
		// before it can be clicked.
		downloadLink.href = window.URL.createObjectURL(textFileAsBlob);
		downloadLink.onclick = destroyClickedElement;
		downloadLink.style.display = "none";
		document.body.appendChild(downloadLink);
	}

	downloadLink.click();
}

function destroyClickedElement(event)
{
	document.body.removeChild(event.target);
}

function loadFileAsText()
{
	var fileToLoad = document.getElementById("fileToLoad").files[0];

	var fileReader = new FileReader();
	fileReader.onload = function(fileLoadedEvent) 
	{
		var textFromFileLoaded = fileLoadedEvent.target.result;
		document.getElementById("inputTextToSave").value = textFromFileLoaded;
	};
	fileReader.readAsText(fileToLoad, "UTF-8");
}

</script>

</body>
</html>
